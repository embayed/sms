<!DOCTYPE html><html xmlns:th="http://www.thymeleaf.org"><head><title>Student Detail</title><script src="https://cdn.tailwindcss.com"></script></head>
<body class="bg-slate-50"><div class="p-4"><a href="/">Dashboard</a> | <a href="/students">Students</a></div>
<div class="max-w-5xl mx-auto p-6 space-y-4">
    <h1 class="text-2xl font-bold" th:text="${student.fullName}"></h1>
    <div class="bg-white p-4 rounded shadow">Total Fees: <span th:text="${totalFees}"></span> | Paid: <span th:text="${totalPayments}"></span> | <b>Rest: <span th:text="${rest}"></span></b></div>

    <div class="bg-white p-4 rounded shadow">
        <h2 class="font-semibold mb-2">Record Payment</h2>
        <form th:action="@{'/students/' + ${student.id} + '/payments'}" th:object="${paymentForm}" method="post" class="flex gap-2">
            <input th:field="*{amount}" type="number" step="0.01" class="border p-2" placeholder="Amount"/>
            <input th:field="*{paymentDate}" type="date" class="border p-2"/>
            <button class="bg-blue-600 text-white px-3 rounded">Save</button>
        </form>
    </div>

    <table class="w-full bg-white rounded shadow"><tr><th class="p-2">Date</th><th>Amount</th><th>Action</th></tr>
        <tr th:each="p:${payments}" class="border-t"><td class="p-2" th:text="${p.paymentDate}"></td><td th:text="${p.amount}"></td>
            <td><a th:href="@{'/students/' + ${student.id} + '/payments/' + ${p.id} + '/edit'}" class="text-blue-600">Edit</a></td></tr>
    </table>
</div></body></html>
